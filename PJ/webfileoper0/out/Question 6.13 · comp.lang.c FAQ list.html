<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN"><!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. --><!-- Content from the book "C Programming FAQs: Frequently Asked Questions" --><!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by --><!-- permission of the author and the publisher as a service to the community. --><!-- It is intended to complement the use of the published text --><!-- and is protected by international copyright laws. --><!-- The on-line content may be accessed freely for personal use --><!-- but may not be published or retransmitted without explicit permission. --><!-- --><!-- this page built Sat Dec 24 21:47:45 2005 by faqproc version 2.7 --><!-- from source file aryptr.sgml dated Wed Dec 21 12:50:38 2005 --><!-- corresponding to FAQ list version 4.0 --><html><head><meta name=GENERATOR content="faqproc"><title>Question 6.13</title><link href="aryvsadr.html" rev=precedes><link href="dynarray.html" rel=precedes><link href="index.html" rev=subdocument></head><body bgcolor="#ffffff"><p><!-- qbegin --><p><font face=Helvetica size=8 color=blue><b>Q:</b></font>How do I declare a pointer to an array?</p><p><hr><p><font face=Helvetica size=8 color=blue><b>A:</b></font>Usually, you don't want to.When people speak casually of a pointer to an array,they usually mean a pointer to its first element.</p><p>Instead of a pointer to an array,considerusing a pointer to one of the array's elements.Arrays of type T decay into pointers to type T(see question<a href="aryptrequiv.html">6.3</a>),which is convenient;subscripting or incrementingthe resultant pointerwill accesstheindividual members of the array.True pointers to arrays, whensubscripted or incremented, stepover entire arrays(see below),and are generally useful only when operatingon arrays of arrays,<a href="fn31.html" rel=subdocument>[footnote]</a>if at all.(Seealsoquestion<a href="pass2dary.html">6.18</a>.)</p><p>If you really need to declare a pointer to an entire array,use something like``<TT>int&nbsp;(*ap)[N];</TT>''where <TT>N</TT> is the size of the array.(See also question<a href="../decl/cdecl1.html">1.21</a>.)If the size of the array is unknown, <TT>N</TT> canin principlebe omitted,but the resulting type, ``pointer to array of unknown size,''is useless.</p><p>Here is an exampleshowing the difference betweensimple pointersandpointers to arrays.Given the declarations<pre>int a1[3] = {0, 1, 2};int a2[2][3] = {{3, 4, 5}, {6, 7, 8}};int *ip;		/* pointer to int */int (*ap)[3];		/* pointer to array [3] of int */</pre>you could use the simple pointer-to-<TT>int</TT>,<TT>ip</TT>,to access the one-dimensional array <TT>a1</TT>:<pre>	ip = a1;	printf("%d ", *ip);	ip++;	printf("%d\n", *ip);</pre>This fragment would print<pre>	0 1</pre>An attempt to use a pointer-to-array,<TT>ap</TT>,on<TT>a1</TT>:<pre>	ap = &amp;a1;	printf("%d\n", **ap);	ap++;				/* WRONG */	printf("%d\n", **ap);		/* undefined */</pre>would print <TT>0</TT> on the first lineand something undefined on the second(and might crash).The pointer-to-arraywould only be at all useful in accessingan array of arrays,such as <TT>a2</TT>:<pre>	ap = a2;	printf("%d %d\n", (*ap)[0], (*ap)[1]);	ap++;		/* steps over entire (sub)array */	printf("%d %d\n", (*ap)[0], (*ap)[1]);</pre>This last fragmentwould print<pre>	3 4	6 7</pre></p><p>See also question <a href="aryvsadr.html">6.12</a>.</p><p>Additional links:<a href="ptrary2.html">further reading</a></p><p>References:ISO Sec. 6.2.2.1<br></p><!-- aend --><p><hr>