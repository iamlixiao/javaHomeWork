<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN"><!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. --><!-- Content from the book "C Programming FAQs: Frequently Asked Questions" --><!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by --><!-- permission of the author and the publisher as a service to the community. --><!-- It is intended to complement the use of the published text --><!-- and is protected by international copyright laws. --><!-- The on-line content may be accessed freely for personal use --><!-- but may not be published or retransmitted without explicit permission. --><!-- --><!-- this page built Sat Dec 24 21:47:45 2005 by faqproc version 2.7 --><!-- from source file init.sgml dated Fri Jul  2 21:52:44 2004 --><!-- corresponding to FAQ list version 4.0 --><html><head><meta name=GENERATOR content="faqproc"><title>Question 1.32</title><link href="fcninit.html" rev=precedes><link href="nonstring.html" rel=precedes><link href="index.html" rev=subdocument></head><body bgcolor="#ffffff"><p><!-- qbegin --><p><font face=Helvetica size=8 color=blue><b>Q:</b></font>What is the difference betweenthese initializations?<pre>char a[] = "string literal";char *p  = "string literal";</pre>My programcrashes ifI try toassign a new value to <TT>p[i]</TT>.</p><p><hr><p><font face=Helvetica size=8 color=blue><b>A:</b></font>A string literal(the formaltermfor a double-quoted string in C source)canbe used intwo slightly differentways:<OL><li>Asthe initializer for an array of <TT>char</TT>,as in thedeclaration of <TT>char&nbsp;a[]</TT>,it specifies the initial values of the characters in that array(and, if necessary, its size).<li>Anywhere else,it turns into an unnamed,staticarray of characters,and this unnamed arraymay be stored in read-only memory,and which therefore cannot necessarily be modified.Inan expression context,thearray is converted at onceto a pointer,as usual(see section <a href="../aryptr/index.html">6</a>),sothe second declaration initializes<TT>p</TT>to point totheunnamedarray'sfirst element.</OL></p><p>Somecompilershave a switch controlling whetherstring literalsare writableor not(for compiling old code),and somemayhave options to cause string literals to beformallytreated as arrays of <TT>const</TT> <TT>char</TT>(for better error catching).</p><p>See also questions<a href="autoaggrinit.html">1.31</a>,<a href="../aryptr/aryptr1.html">6.1</a>,<a href="../aryptr/aryptr2.html">6.2</a>,<a href="../aryptr/practdiff.html">6.8</a>,and<a href="../ansi/strlitnotconst.html">11.8b</a>.</p><p>References:K&amp;R2 Sec. 5.5 p. 104<br>ISO Sec. 6.1.4, Sec. 6.5.7<br>Rationale Sec. 3.1.4<br>H&amp;S Sec. 2.7.4 pp. 31-2<br></p><!-- aend --><p><hr>