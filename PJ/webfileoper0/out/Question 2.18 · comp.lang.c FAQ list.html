<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN"><!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. --><!-- Content from the book "C Programming FAQs: Frequently Asked Questions" --><!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by --><!-- permission of the author and the publisher as a service to the community. --><!-- It is intended to complement the use of the published text --><!-- and is protected by international copyright laws. --><!-- The on-line content may be accessed freely for personal use --><!-- but may not be published or retransmitted without explicit permission. --><!-- --><!-- this page built Sat Dec 24 21:47:45 2005 by faqproc version 2.7 --><!-- from source file struct.sgml dated Wed Dec 21 16:15:32 2005 --><!-- corresponding to FAQ list version 4.0 --><html><head><meta name=GENERATOR content="faqproc"><title>Question 2.18</title><link href="decay.html" rev=precedes><link href="union.html" rel=precedes><link href="index.html" rev=subdocument></head><body bgcolor="#ffffff"><p><!-- qbegin --><p><font face=Helvetica size=8 color=blue><b>Q:</b></font>This programworks correctly, butitdumps coreafter itfinishes.Why?<pre>	struct list {		char *item;		struct list *next;	}	/* Here is the main program. */	main(argc, argv)	{ ... }</pre></p><p><hr><p><font face=Helvetica size=8 color=blue><b>A:</b></font>A missing semicolonat the end of the structure declarationcauses<TT>main</TT> to be declared as returninga structure.(The connection is hard to see because of the intervening comment.)Sincestructure-valued functions areusuallyimplemented by adding a hiddenreturn pointer(see question<a href="passret.html">2.9</a>),the generated codefor <TT>main()</TT> tries to accept three arguments,although only two are passed(in this case, by the Cstart-up code).See also questions<a href="../cpp/headerglom.html">10.9</a>and<a href="../strangeprob/crashatexit.html">16.4</a>.</p><p>References:CT&amp;P Sec. 2.3 pp. 21-2<br></p><!-- aend --><p><hr>