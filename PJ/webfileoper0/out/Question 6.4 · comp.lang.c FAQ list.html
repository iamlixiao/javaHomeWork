<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN"><!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. --><!-- Content from the book "C Programming FAQs: Frequently Asked Questions" --><!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by --><!-- permission of the author and the publisher as a service to the community. --><!-- It is intended to complement the use of the published text --><!-- and is protected by international copyright laws. --><!-- The on-line content may be accessed freely for personal use --><!-- but may not be published or retransmitted without explicit permission. --><!-- --><!-- this page built Sat Dec 24 21:47:45 2005 by faqproc version 2.7 --><!-- from source file aryptr.sgml dated Wed Dec 21 12:50:38 2005 --><!-- corresponding to FAQ list version 4.0 --><html><head><meta name=GENERATOR content="faqproc"><title>Question 6.4</title><link href="aryptrequiv.html" rev=precedes><link href="arypbref.html" rel=precedes><link href="index.html" rev=subdocument></head><body bgcolor="#ffffff"><p><!-- qbegin --><p><font face=Helvetica size=8 color=blue><b>Q:</b></font>If they're so different,thenwhyare array and pointer declarations interchangeable asfunction formal parameters?</p><p><hr><p><font face=Helvetica size=8 color=blue><b>A:</b></font>It'ssupposed to bea convenience.</p><p>Since arrays decay immediately into pointers,an array is never actually passed to a function.You canpretend thata function receives an array asaparameter,andillustrate itby declaring thecorrespondingparameter as an array:<pre>	void f(char a[])	{ ... }</pre>Interpreted literally,this declaration would have no use,sothe compiler turnsaround and pretendsthat you'd written a pointer declaration,since that's what the function will in fact receive:<pre>	void f(char *a)	{ ... }</pre>There's nothingparticularlywrong with talking about a functionas if it``receives'' an array,ifthe function is traditionally used to operate on arrays,or ifthe parameter is naturally treated within the function as an array.</p><p>This conversionof array-like declarators into pointersholds only within functionformal parameter declarations,nowhere else.If the conversion bothers you,you're under no compulsionto make use ofit;many programmershave concluded that the confusion it causes outweighsthe small advantage of having the declaration ``look like'' the callor the uses within the function.(Note that the conversion happens only once;something like <TT>char&nbsp;a2[][]</TT> won't work.See questions <a href="pass2dary.html">6.18</a>and<a href="ary2dfunc2.html">6.19</a>.)</p><p>See also question<a href="aryparmsize.html">6.21</a>.</p><p>References:K&amp;R1 Sec. 5.3 p. 95, Sec. A10.1 p. 205<br>K&amp;R2 Sec. 5.3 p. 100, Sec. A8.6.3 p. 218, Sec. A10.1 p. 226<br>ISO Sec. 6.5.4.3, Sec. 6.7.1, Sec. 6.9.6<br>H&amp;S Sec. 9.3 p. 271<br>CT&amp;P Sec. 3.3 pp. 33-4<br>Dennis Ritchie, ``The Development of the C Language''<br></p><!-- aend --><p><hr>