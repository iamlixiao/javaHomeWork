<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN"><!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. --><!-- Content from the book "C Programming FAQs: Frequently Asked Questions" --><!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by --><!-- permission of the author and the publisher as a service to the community. --><!-- It is intended to complement the use of the published text --><!-- and is protected by international copyright laws. --><!-- The on-line content may be accessed freely for personal use --><!-- but may not be published or retransmitted without explicit permission. --><!-- --><!-- this page built Sat Dec 24 21:47:45 2005 by faqproc version 2.7 --><!-- from source file decl.sgml dated Wed Dec 21 12:56:18 2005 --><!-- corresponding to FAQ list version 4.0 --><html><head><meta name=GENERATOR content="faqproc"><title>Question 1.13</title><link href="auto.html" rev=precedes><link href="selfrefstruct.html" rel=precedes><link href="index.html" rev=subdocument></head><body bgcolor="#ffffff"><p><!-- qbegin --><p><font face=Helvetica size=8 color=blue><b>Q:</b></font>What's the difference between using a <TT>typedef</TT>ora <TT>#define</TT>for a user-defined type?</p><p><hr><p><font face=Helvetica size=8 color=blue><b>A:</b></font>In general, <TT>typedef</TT>s are preferred,in part because they can correctly encode pointer types.For example,consider these declarations:<pre>	typedef char *String_t;	#define String_d char *	String_t s1, s2;	String_d s3, s4;</pre><TT>s1</TT>, <TT>s2</TT>, and <TT>s3</TT> are all declared as <TT>char&nbsp;*</TT>,but<TT>s4</TT> is declared as a <TT>char</TT>,which is probably not the intention.(See also question <a href="charstarws.html">1.5</a>.)</p><p><TT>#define</TT>s do have the advantage that <TT>#ifdef</TT> works on them(see also question <a href="../cpp/iftypedef.html">10.15</a>).On the other hand,<TT>typedef</TT>shave the advantage that they obey scope rules(that is, they can be declared local to a function or block).</p><p>See also questions<a href="pfitypedef.html">1.17</a>,<a href="../struct/enumvsdefine.html">2.22</a>,<a href="../ansi/typedefconst.html">11.11</a>,and<a href="../varargs/funcptr.html">15.11</a>.</p><p>References:K&amp;R1 Sec. 6.9 p. 141<br>K&amp;R2 Sec. 6.7 pp. 146-7<br>CT&amp;P Sec. 6.4 pp. 83-4<br></p><!-- aend --><p><hr>