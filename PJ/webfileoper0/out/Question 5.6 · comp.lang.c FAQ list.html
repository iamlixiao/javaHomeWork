<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN"><!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. --><!-- Content from the book "C Programming FAQs: Frequently Asked Questions" --><!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by --><!-- permission of the author and the publisher as a service to the community. --><!-- It is intended to complement the use of the published text --><!-- and is protected by international copyright laws. --><!-- The on-line content may be accessed freely for personal use --><!-- but may not be published or retransmitted without explicit permission. --><!-- --><!-- this page built Sat Dec 24 21:47:45 2005 by faqproc version 2.7 --><!-- from source file null.sgml dated Wed Dec 21 13:03:25 2005 --><!-- corresponding to FAQ list version 4.0 --><html><head><meta name=GENERATOR content="faqproc"><title>Question 5.6</title><link href="machnon0.html" rev=precedes><link href="long0.html" rel=precedes><link href="index.html" rev=subdocument></head><body bgcolor="#ffffff"><p><!-- qbegin --><p><font face=Helvetica size=8 color=blue><b>Q:</b></font>If <TT>NULL</TT> were defined asfollows:<pre>	#define NULL ((char *)0)</pre>wouldn't that make function calls which pass an uncast <TT>NULL</TT> work?</p><p><hr><p><font face=Helvetica size=8 color=blue><b>A:</b></font>Not inthe most general case.Thecomplicationis that there are machines whichuse differentinternalrepresentations forpointers to different types of data.The suggested definition would make uncast <TT>NULL</TT> arguments tofunctions expecting pointers to characters work correctly,but pointer arguments of other types could still(in the absence of prototypes)require explicit casts.Furthermore,legalconstructions such as<pre>	FILE *fp = NULL;</pre>could fail.</p><p>Nevertheless,ANSI C allows the alternatedefinition<pre>	#define NULL ((void *)0)</pre>for <TT>NULL</TT>.<a href="voidpassign.html" rel=subdocument>[footnote]</a>Besidespotentiallyhelpingincorrect programs towork(but only on machines with homogeneous pointers,thusquestionably valid assistance),this definition may catch programs which use <TT>NULL</TT> incorrectly(e.g. when the ASCII NUL character was really intended;see question<a href="nullor0.html">5.9</a>).See also question <a href="long0.html">5.7</a>.</p><p>At any rate, ANSI function prototypes ensure that most(though not quite all; see question <a href="null2.html">5.2</a>)pointer arguments are converted correctlywhen passed as function arguments,so the question is largely moot.</p><p>Programmers who are accustomed tomodern, ``flat'' memory architectures mayfind the idea of ``different kinds of pointers''very difficult to accept.See question<a href="machexamp.html">5.17</a>for someexamples.</p><p>References:Rationale Sec. 4.1.5<br></p><!-- aend --><p><hr>